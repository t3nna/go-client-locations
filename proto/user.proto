syntax = "proto3";

package user;

option go_package = "shared/proto/user;user";

service UserService {
  rpc CreateUser (UpdateUserRequest) returns (CreateUserResponse);
  rpc UpdateUser (UpdateUserRequest) returns (UpdateUserResponse);
  rpc SearchUsers (SearchUsersRequest) returns (SearchUsersResponse);
}

message User {
  string ID = 1;
  string userName = 2;
  Coordinate coordinate = 3;
}

message Coordinate{
  double latitude = 1;
  double longitude = 2;
}

message CreateUserResponse{
  User user = 1;
}

message UpdateUserRequest{
  string userName = 1;
  Coordinate coordinate = 2;
}
message UpdateUserResponse{
  User user = 1;
}

message SearchUsersRequest{
  Coordinate coordinate = 1;
  float radius = 2;
}

message SearchUsersResponse{
   repeated User users = 1;
}